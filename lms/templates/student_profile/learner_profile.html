<%! import json %>
<%! from django.core.urlresolvers import reverse %>
<%! from django.utils.translation import ugettext as _ %>

<!--<%namespace name='static' file='/static_content.html'/>-->

<%inherit file="/main.html" />
<%namespace name='static' file='/static_content.html'/>

<%block name="pagetitle">${_("Learner Profile")}</%block>

<%block name="header_extras">
    % for template_name in ["learner_profile_edit", "learner_profile_readonly"]:
        <script type="text/template" id="${template_name}-tpl">
            <%static:include path="student_profile/${template_name}.underscore" />
        </script>
    % endfor
    <script type="text/template" id="field_dropdown-tpl">
        <%static:include path="student_account/field_dropdown.underscore" />
    </script>
    <script type="text/template" id="field_textarea-tpl">
        <%static:include path="student_account/field_textarea.underscore" />
    </script>
</%block>

<div class="learner-profile-container"
     data-accounts-api-url="${accounts_api_url}"
     data-preferences-api-url="${preferences_api_url}"
     data-account-settings-page-url="${account_settings_page_url}">
</div>

<%block name="headextra">
    <%static:css group='style-course'/>

    <script>
          (function (require) {
            require(['js/student_profile/views/learner_profile_factory'], function(setupLearnerProfile) {
                var info = ${ json.dumps(info) };
                setupLearnerProfile(info);
            });
          }).call(this, require || RequireJS.require);
    </script>

</%block>